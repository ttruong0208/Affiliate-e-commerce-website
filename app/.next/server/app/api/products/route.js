"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/products/route";
exports.ids = ["app/api/products/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.ts&appDir=%2FUsers%2Ftruongnguyen%2FDownloads%2Fproduct_catalog_demo%2Fapp%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftruongnguyen%2FDownloads%2Fproduct_catalog_demo%2Fapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.ts&appDir=%2FUsers%2Ftruongnguyen%2FDownloads%2Fproduct_catalog_demo%2Fapp%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftruongnguyen%2FDownloads%2Fproduct_catalog_demo%2Fapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_truongnguyen_Downloads_product_catalog_demo_app_app_api_products_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/products/route.ts */ \"(rsc)/./app/api/products/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/products/route\",\n        pathname: \"/api/products\",\n        filename: \"route\",\n        bundlePath: \"app/api/products/route\"\n    },\n    resolvedPagePath: \"/Users/truongnguyen/Downloads/product_catalog_demo/app/app/api/products/route.ts\",\n    nextConfigOutput,\n    userland: _Users_truongnguyen_Downloads_product_catalog_demo_app_app_api_products_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/products/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm9kdWN0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcHJvZHVjdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwcm9kdWN0cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnRydW9uZ25ndXllbiUyRkRvd25sb2FkcyUyRnByb2R1Y3RfY2F0YWxvZ19kZW1vJTJGYXBwJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnRydW9uZ25ndXllbiUyRkRvd25sb2FkcyUyRnByb2R1Y3RfY2F0YWxvZ19kZW1vJTJGYXBwJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNnQztBQUM3RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8/YjRmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvdHJ1b25nbmd1eWVuL0Rvd25sb2Fkcy9wcm9kdWN0X2NhdGFsb2dfZGVtby9hcHAvYXBwL2FwaS9wcm9kdWN0cy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcHJvZHVjdHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wcm9kdWN0c1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcHJvZHVjdHMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvdHJ1b25nbmd1eWVuL0Rvd25sb2Fkcy9wcm9kdWN0X2NhdGFsb2dfZGVtby9hcHAvYXBwL2FwaS9wcm9kdWN0cy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcHJvZHVjdHMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.ts&appDir=%2FUsers%2Ftruongnguyen%2FDownloads%2Fproduct_catalog_demo%2Fapp%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftruongnguyen%2FDownloads%2Fproduct_catalog_demo%2Fapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/products/route.ts":
/*!***********************************!*\
  !*** ./app/api/products/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n// app/api/products/route.ts\n\n\nconst dynamic = \"force-dynamic\";\nfunction toNumber(d) {\n    if (d == null) return null;\n    if (typeof d === \"number\") return d;\n    if (typeof d?.toNumber === \"function\") return d.toNumber();\n    const n = Number(d);\n    return Number.isFinite(n) ? n : null;\n}\nasync function GET(req) {\n    try {\n        const { searchParams } = new URL(req.url);\n        const categoryParam = searchParams.get(\"category\");\n        const search = searchParams.get(\"search\");\n        const featured = (searchParams.get(\"featured\") ?? \"\").toLowerCase() === \"true\";\n        const limitNum = Number(searchParams.get(\"limit\") ?? (featured ? 6 : 12));\n        const pageNum = Number(searchParams.get(\"page\") ?? 1);\n        const pageSize = 12;\n        const take = Number.isFinite(limitNum) && limitNum > 0 && limitNum <= 100 ? limitNum : 12;\n        const page = Number.isFinite(pageNum) && pageNum > 0 ? pageNum : 1;\n        // where cho Product\n        const where = {\n            isActive: true\n        };\n        // Filter theo category đúng kiểu quan hệ (dùng slug)\n        if (categoryParam && categoryParam !== \"all\") {\n            where.category = {\n                slug: {\n                    equals: categoryParam\n                }\n            };\n        }\n        if (search) {\n            where.OR = [\n                {\n                    name: {\n                        contains: search,\n                        mode: \"insensitive\"\n                    }\n                },\n                {\n                    description: {\n                        contains: search,\n                        mode: \"insensitive\"\n                    }\n                },\n                {\n                    brand: {\n                        contains: search,\n                        mode: \"insensitive\"\n                    }\n                }\n            ];\n        }\n        const productSelect = {\n            id: true,\n            slug: true,\n            name: true,\n            description: true,\n            image: true,\n            images: true,\n            specs: true,\n            brand: true,\n            stock: true,\n            isActive: true,\n            createdAt: true,\n            updatedAt: true,\n            category: {\n                select: {\n                    id: true,\n                    name: true,\n                    slug: true\n                }\n            },\n            offers: {\n                select: {\n                    id: true,\n                    currentPrice: true,\n                    inStock: true,\n                    stockStatus: true,\n                    merchant: {\n                        select: {\n                            id: true,\n                            name: true,\n                            slug: true,\n                            logo: true,\n                            domain: true\n                        }\n                    },\n                    affiliateUrl: true,\n                    url: true\n                },\n                orderBy: {\n                    currentPrice: \"asc\"\n                },\n                take: 10\n            }\n        };\n        const serialize = (p)=>{\n            const offers = (p.offers || []).map((o)=>({\n                    id: o.id,\n                    currentPrice: toNumber(o.currentPrice),\n                    inStock: o.inStock ?? null,\n                    stockStatus: o.stockStatus ?? null,\n                    affiliateUrl: o.affiliateUrl ?? null,\n                    url: o.url ?? null,\n                    merchant: o.merchant ? {\n                        id: o.merchant.id,\n                        name: o.merchant.name,\n                        slug: o.merchant.slug,\n                        logo: o.merchant.logo ?? null,\n                        domain: o.merchant.domain ?? null\n                    } : null\n                }));\n            const minOffer = offers.length > 0 ? offers.filter((o)=>o.currentPrice != null).sort((a, b)=>a.currentPrice - b.currentPrice)[0] : null;\n            return {\n                id: p.id,\n                slug: p.slug,\n                name: p.name,\n                description: p.description,\n                image: p.image,\n                images: p.images,\n                specs: p.specs,\n                brand: p.brand,\n                stock: p.stock,\n                isActive: p.isActive,\n                createdAt: p.createdAt,\n                updatedAt: p.updatedAt,\n                category: p.category ? {\n                    id: p.category.id,\n                    name: p.category.name,\n                    slug: p.category.slug\n                } : null,\n                offers,\n                offerCount: offers.length,\n                minPrice: minOffer?.currentPrice ?? null,\n                minPriceMerchant: minOffer?.merchant ?? null\n            };\n        };\n        if (featured) {\n            const rows = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.product.findMany({\n                where,\n                orderBy: {\n                    createdAt: \"desc\"\n                },\n                take,\n                select: productSelect\n            });\n            const data = rows.map(serialize);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                data,\n                pagination: {\n                    page: 1,\n                    pageSize: take,\n                    totalCount: data.length,\n                    totalPages: 1\n                }\n            });\n        }\n        const [totalCount, rows] = await Promise.all([\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.product.count({\n                where\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.product.findMany({\n                where,\n                orderBy: {\n                    createdAt: \"desc\"\n                },\n                take: pageSize,\n                skip: (page - 1) * pageSize,\n                select: productSelect\n            })\n        ]);\n        const data = rows.map(serialize);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data,\n            pagination: {\n                page,\n                pageSize,\n                totalCount,\n                totalPages: Math.ceil(totalCount / pageSize)\n            }\n        });\n    } catch (error) {\n        console.error(\"Error fetching products:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: {\n                message: \"C\\xf3 lỗi xảy ra khi tải sản phẩm\"\n            }\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dkJDLFNBQVM7WUFDVEY7WUFDQUcsWUFBWTtnQkFDVmpEO2dCQUNBRjtnQkFDQW9EO2dCQUNBQyxZQUFZSyxLQUFLQyxJQUFJLENBQUNQLGFBQWFwRDtZQUNyQztRQUNGO0lBQ0YsRUFBRSxPQUFPNEQsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsNEJBQTRCQTtRQUMxQyxPQUFPaEYscURBQVlBLENBQUNxRSxJQUFJLENBQ3RCO1lBQUVDLFNBQVM7WUFBT1UsT0FBTztnQkFBRUUsU0FBUztZQUFpQztRQUFFLEdBQ3ZFO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vYXBwL2FwaS9wcm9kdWN0cy9yb3V0ZS50cz85MmE4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGFwcC9hcGkvcHJvZHVjdHMvcm91dGUudHNcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJ0AvbGliL2RiJ1xuXG5leHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJ1xuXG5mdW5jdGlvbiB0b051bWJlcihkOiBhbnkpIHtcbiAgaWYgKGQgPT0gbnVsbCkgcmV0dXJuIG51bGxcbiAgaWYgKHR5cGVvZiBkID09PSAnbnVtYmVyJykgcmV0dXJuIGRcbiAgaWYgKHR5cGVvZiBkPy50b051bWJlciA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGQudG9OdW1iZXIoKVxuICBjb25zdCBuID0gTnVtYmVyKGQpXG4gIHJldHVybiBOdW1iZXIuaXNGaW5pdGUobikgPyBuIDogbnVsbFxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXEudXJsKVxuXG4gICAgY29uc3QgY2F0ZWdvcnlQYXJhbSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2NhdGVnb3J5JylcbiAgICBjb25zdCBzZWFyY2ggPSBzZWFyY2hQYXJhbXMuZ2V0KCdzZWFyY2gnKVxuICAgIGNvbnN0IGZlYXR1cmVkID0gKHNlYXJjaFBhcmFtcy5nZXQoJ2ZlYXR1cmVkJykgPz8gJycpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJ1xuICAgIGNvbnN0IGxpbWl0TnVtID0gTnVtYmVyKHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgPz8gKGZlYXR1cmVkID8gNiA6IDEyKSlcbiAgICBjb25zdCBwYWdlTnVtID0gTnVtYmVyKHNlYXJjaFBhcmFtcy5nZXQoJ3BhZ2UnKSA/PyAxKVxuICAgIGNvbnN0IHBhZ2VTaXplID0gMTJcblxuICAgIGNvbnN0IHRha2UgPSBOdW1iZXIuaXNGaW5pdGUobGltaXROdW0pICYmIGxpbWl0TnVtID4gMCAmJiBsaW1pdE51bSA8PSAxMDAgPyBsaW1pdE51bSA6IDEyXG4gICAgY29uc3QgcGFnZSA9IE51bWJlci5pc0Zpbml0ZShwYWdlTnVtKSAmJiBwYWdlTnVtID4gMCA/IHBhZ2VOdW0gOiAxXG5cbiAgICAvLyB3aGVyZSBjaG8gUHJvZHVjdFxuICAgIGNvbnN0IHdoZXJlOiBhbnkgPSB7IGlzQWN0aXZlOiB0cnVlIH1cblxuICAgIC8vIEZpbHRlciB0aGVvIGNhdGVnb3J5IMSRw7puZyBraeG7g3UgcXVhbiBo4buHIChkw7luZyBzbHVnKVxuICAgIGlmIChjYXRlZ29yeVBhcmFtICYmIGNhdGVnb3J5UGFyYW0gIT09ICdhbGwnKSB7XG4gICAgICB3aGVyZS5jYXRlZ29yeSA9IHtcbiAgICAgICAgc2x1ZzogeyBlcXVhbHM6IGNhdGVnb3J5UGFyYW0gfSxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2VhcmNoKSB7XG4gICAgICB3aGVyZS5PUiA9IFtcbiAgICAgICAgeyBuYW1lOiB7IGNvbnRhaW5zOiBzZWFyY2gsIG1vZGU6ICdpbnNlbnNpdGl2ZScgfSB9LFxuICAgICAgICB7IGRlc2NyaXB0aW9uOiB7IGNvbnRhaW5zOiBzZWFyY2gsIG1vZGU6ICdpbnNlbnNpdGl2ZScgfSB9LFxuICAgICAgICB7IGJyYW5kOiB7IGNvbnRhaW5zOiBzZWFyY2gsIG1vZGU6ICdpbnNlbnNpdGl2ZScgfSB9LFxuICAgICAgXVxuICAgIH1cblxuICAgIGNvbnN0IHByb2R1Y3RTZWxlY3QgPSB7XG4gICAgICBpZDogdHJ1ZSxcbiAgICAgIHNsdWc6IHRydWUsXG4gICAgICBuYW1lOiB0cnVlLFxuICAgICAgZGVzY3JpcHRpb246IHRydWUsXG4gICAgICBpbWFnZTogdHJ1ZSxcbiAgICAgIGltYWdlczogdHJ1ZSxcbiAgICAgIHNwZWNzOiB0cnVlLFxuICAgICAgYnJhbmQ6IHRydWUsXG4gICAgICBzdG9jazogdHJ1ZSxcbiAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgY3JlYXRlZEF0OiB0cnVlLFxuICAgICAgdXBkYXRlZEF0OiB0cnVlLFxuICAgICAgY2F0ZWdvcnk6IHtcbiAgICAgICAgc2VsZWN0OiB7IGlkOiB0cnVlLCBuYW1lOiB0cnVlLCBzbHVnOiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAgb2ZmZXJzOiB7XG4gICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgIGN1cnJlbnRQcmljZTogdHJ1ZSxcbiAgICAgICAgICBpblN0b2NrOiB0cnVlLFxuICAgICAgICAgIHN0b2NrU3RhdHVzOiB0cnVlLFxuICAgICAgICAgIG1lcmNoYW50OiB7IFxuICAgICAgICAgICAgc2VsZWN0OiB7IFxuICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgbmFtZTogdHJ1ZSwgXG4gICAgICAgICAgICAgIHNsdWc6IHRydWUsIFxuICAgICAgICAgICAgICBsb2dvOiB0cnVlLCBcbiAgICAgICAgICAgICAgZG9tYWluOiB0cnVlIFxuICAgICAgICAgICAgfSBcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFmZmlsaWF0ZVVybDogdHJ1ZSxcbiAgICAgICAgICB1cmw6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIG9yZGVyQnk6IHsgY3VycmVudFByaWNlOiAnYXNjJyBhcyBjb25zdCB9LFxuICAgICAgICB0YWtlOiAxMCxcbiAgICAgIH0sXG4gICAgfSBhcyBjb25zdFxuXG4gICAgdHlwZSBPZmZlckxpdGUgPSB7XG4gICAgICBpZDogc3RyaW5nXG4gICAgICBjdXJyZW50UHJpY2U6IG51bWJlciB8IG51bGxcbiAgICAgIGluU3RvY2s/OiBib29sZWFuIHwgbnVsbFxuICAgICAgc3RvY2tTdGF0dXM/OiBzdHJpbmcgfCBudWxsXG4gICAgICBhZmZpbGlhdGVVcmw/OiBzdHJpbmcgfCBudWxsXG4gICAgICB1cmw/OiBzdHJpbmcgfCBudWxsXG4gICAgICBtZXJjaGFudDoge1xuICAgICAgICBpZDogc3RyaW5nXG4gICAgICAgIG5hbWU6IHN0cmluZ1xuICAgICAgICBzbHVnOiBzdHJpbmdcbiAgICAgICAgbG9nbz86IHN0cmluZyB8IG51bGxcbiAgICAgICAgZG9tYWluPzogc3RyaW5nIHwgbnVsbFxuICAgICAgfSB8IG51bGxcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgc2VyaWFsaXplID0gKHA6IGFueSkgPT4ge1xuICAgICAgY29uc3Qgb2ZmZXJzOiBPZmZlckxpdGVbXSA9IChwLm9mZmVycyB8fCBbXSkubWFwKChvOiBhbnkpOiBPZmZlckxpdGUgPT4gKHtcbiAgICAgICAgaWQ6IG8uaWQsXG4gICAgICAgIGN1cnJlbnRQcmljZTogdG9OdW1iZXIoby5jdXJyZW50UHJpY2UpLFxuICAgICAgICBpblN0b2NrOiBvLmluU3RvY2sgPz8gbnVsbCxcbiAgICAgICAgc3RvY2tTdGF0dXM6IG8uc3RvY2tTdGF0dXMgPz8gbnVsbCxcbiAgICAgICAgYWZmaWxpYXRlVXJsOiBvLmFmZmlsaWF0ZVVybCA/PyBudWxsLFxuICAgICAgICB1cmw6IG8udXJsID8/IG51bGwsXG4gICAgICAgIG1lcmNoYW50OiBvLm1lcmNoYW50XG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIGlkOiBvLm1lcmNoYW50LmlkLFxuICAgICAgICAgICAgICBuYW1lOiBvLm1lcmNoYW50Lm5hbWUsXG4gICAgICAgICAgICAgIHNsdWc6IG8ubWVyY2hhbnQuc2x1ZyxcbiAgICAgICAgICAgICAgbG9nbzogby5tZXJjaGFudC5sb2dvID8/IG51bGwsXG4gICAgICAgICAgICAgIGRvbWFpbjogby5tZXJjaGFudC5kb21haW4gPz8gbnVsbCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IG51bGwsXG4gICAgICB9KSlcbiAgICBcbiAgICAgIGNvbnN0IG1pbk9mZmVyID1cbiAgICAgICAgb2ZmZXJzLmxlbmd0aCA+IDBcbiAgICAgICAgICA/IG9mZmVyc1xuICAgICAgICAgICAgICAuZmlsdGVyKChvOiBPZmZlckxpdGUpID0+IG8uY3VycmVudFByaWNlICE9IG51bGwpXG4gICAgICAgICAgICAgIC5zb3J0KChhOiBPZmZlckxpdGUsIGI6IE9mZmVyTGl0ZSkgPT4gKGEuY3VycmVudFByaWNlISAtIGIuY3VycmVudFByaWNlISkpWzBdXG4gICAgICAgICAgOiBudWxsXG4gICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogcC5pZCxcbiAgICAgICAgc2x1ZzogcC5zbHVnLFxuICAgICAgICBuYW1lOiBwLm5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBwLmRlc2NyaXB0aW9uLFxuICAgICAgICBpbWFnZTogcC5pbWFnZSxcbiAgICAgICAgaW1hZ2VzOiBwLmltYWdlcyxcbiAgICAgICAgc3BlY3M6IHAuc3BlY3MsXG4gICAgICAgIGJyYW5kOiBwLmJyYW5kLFxuICAgICAgICBzdG9jazogcC5zdG9jayxcbiAgICAgICAgaXNBY3RpdmU6IHAuaXNBY3RpdmUsXG4gICAgICAgIGNyZWF0ZWRBdDogcC5jcmVhdGVkQXQsXG4gICAgICAgIHVwZGF0ZWRBdDogcC51cGRhdGVkQXQsXG4gICAgICAgIGNhdGVnb3J5OiBwLmNhdGVnb3J5XG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIGlkOiBwLmNhdGVnb3J5LmlkIGFzIHN0cmluZyxcbiAgICAgICAgICAgICAgbmFtZTogcC5jYXRlZ29yeS5uYW1lIGFzIHN0cmluZyxcbiAgICAgICAgICAgICAgc2x1ZzogcC5jYXRlZ29yeS5zbHVnIGFzIHN0cmluZyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IG51bGwsXG4gICAgICAgIG9mZmVycyxcbiAgICAgICAgb2ZmZXJDb3VudDogb2ZmZXJzLmxlbmd0aCxcbiAgICAgICAgbWluUHJpY2U6IG1pbk9mZmVyPy5jdXJyZW50UHJpY2UgPz8gbnVsbCxcbiAgICAgICAgbWluUHJpY2VNZXJjaGFudDogbWluT2ZmZXI/Lm1lcmNoYW50ID8/IG51bGwsXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZlYXR1cmVkKSB7XG4gICAgICBjb25zdCByb3dzID0gYXdhaXQgcHJpc21hLnByb2R1Y3QuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZSxcbiAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxuICAgICAgICB0YWtlLFxuICAgICAgICBzZWxlY3Q6IHByb2R1Y3RTZWxlY3QsXG4gICAgICB9KVxuICAgICAgY29uc3QgZGF0YSA9IHJvd3MubWFwKHNlcmlhbGl6ZSlcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIHBhZ2luYXRpb246IHsgcGFnZTogMSwgcGFnZVNpemU6IHRha2UsIHRvdGFsQ291bnQ6IGRhdGEubGVuZ3RoLCB0b3RhbFBhZ2VzOiAxIH0sXG4gICAgICB9KVxuICAgIH1cblxuICAgIGNvbnN0IFt0b3RhbENvdW50LCByb3dzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHByaXNtYS5wcm9kdWN0LmNvdW50KHsgd2hlcmUgfSksXG4gICAgICBwcmlzbWEucHJvZHVjdC5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlLFxuICAgICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH0sXG4gICAgICAgIHRha2U6IHBhZ2VTaXplLFxuICAgICAgICBza2lwOiAocGFnZSAtIDEpICogcGFnZVNpemUsXG4gICAgICAgIHNlbGVjdDogcHJvZHVjdFNlbGVjdCxcbiAgICAgIH0pLFxuICAgIF0pXG4gICAgY29uc3QgZGF0YSA9IHJvd3MubWFwKHNlcmlhbGl6ZSlcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YSxcbiAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgcGFnZSxcbiAgICAgICAgcGFnZVNpemUsXG4gICAgICAgIHRvdGFsQ291bnQsXG4gICAgICAgIHRvdGFsUGFnZXM6IE1hdGguY2VpbCh0b3RhbENvdW50IC8gcGFnZVNpemUpLFxuICAgICAgfSxcbiAgICB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2R1Y3RzOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiB7IG1lc3NhZ2U6ICdDw7MgbOG7l2kgeOG6o3kgcmEga2hpIHThuqNpIHPhuqNuIHBo4bqpbScgfSB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInByaXNtYSIsImR5bmFtaWMiLCJ0b051bWJlciIsImQiLCJuIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJHRVQiLCJyZXEiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJjYXRlZ29yeVBhcmFtIiwiZ2V0Iiwic2VhcmNoIiwiZmVhdHVyZWQiLCJ0b0xvd2VyQ2FzZSIsImxpbWl0TnVtIiwicGFnZU51bSIsInBhZ2VTaXplIiwidGFrZSIsInBhZ2UiLCJ3aGVyZSIsImlzQWN0aXZlIiwiY2F0ZWdvcnkiLCJzbHVnIiwiZXF1YWxzIiwiT1IiLCJuYW1lIiwiY29udGFpbnMiLCJtb2RlIiwiZGVzY3JpcHRpb24iLCJicmFuZCIsInByb2R1Y3RTZWxlY3QiLCJpZCIsImltYWdlIiwiaW1hZ2VzIiwic3BlY3MiLCJzdG9jayIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsInNlbGVjdCIsIm9mZmVycyIsImN1cnJlbnRQcmljZSIsImluU3RvY2siLCJzdG9ja1N0YXR1cyIsIm1lcmNoYW50IiwibG9nbyIsImRvbWFpbiIsImFmZmlsaWF0ZVVybCIsIm9yZGVyQnkiLCJzZXJpYWxpemUiLCJwIiwibWFwIiwibyIsIm1pbk9mZmVyIiwibGVuZ3RoIiwiZmlsdGVyIiwic29ydCIsImEiLCJiIiwib2ZmZXJDb3VudCIsIm1pblByaWNlIiwibWluUHJpY2VNZXJjaGFudCIsInJvd3MiLCJwcm9kdWN0IiwiZmluZE1hbnkiLCJkYXRhIiwianNvbiIsInN1Y2Nlc3MiLCJwYWdpbmF0aW9uIiwidG90YWxDb3VudCIsInRvdGFsUGFnZXMiLCJQcm9taXNlIiwiYWxsIiwiY291bnQiLCJza2lwIiwiTWF0aCIsImNlaWwiLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwic3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/products/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = global;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log:  true ? [\n        \"query\",\n        \"error\",\n        \"warn\"\n    ] : 0\n});\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBRTdDLE1BQU1DLGtCQUFrQkM7QUFFakIsTUFBTUMsU0FDWEYsZ0JBQWdCRSxNQUFNLElBQ3RCLElBQUlILHdEQUFZQSxDQUFDO0lBQ2ZJLEtBQUtDLEtBQXlCLEdBQWdCO1FBQUM7UUFBUztRQUFTO0tBQU8sR0FBRyxDQUFTO0FBQ3RGLEdBQUU7QUFFSixJQUFJQSxJQUF5QixFQUFjSixnQkFBZ0JFLE1BQU0sR0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9saWIvZGIudHM/MWRmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcblxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsIGFzIHVua25vd24gYXMgeyBwcmlzbWE/OiBQcmlzbWFDbGllbnQgfVxuXG5leHBvcnQgY29uc3QgcHJpc21hID1cbiAgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/P1xuICBuZXcgUHJpc21hQ2xpZW50KHtcbiAgICBsb2c6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gWydxdWVyeScsICdlcnJvcicsICd3YXJuJ10gOiBbJ2Vycm9yJ10sXG4gIH0pXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImdsb2JhbEZvclByaXNtYSIsImdsb2JhbCIsInByaXNtYSIsImxvZyIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.ts&appDir=%2FUsers%2Ftruongnguyen%2FDownloads%2Fproduct_catalog_demo%2Fapp%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftruongnguyen%2FDownloads%2Fproduct_catalog_demo%2Fapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();